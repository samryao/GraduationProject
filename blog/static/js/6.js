webpackJsonp([6],{EPcJ:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("mGwb"),a={name:"register",data:function(){return{reg_username:"",reg_password:"",reg_password2:"",reg_email:"",reg_usernameErr:!1,reg_emailErr:!1,reg_passwordErr:!1,reg_password2Err:!1,err_username_msg:"",err_password_msg:"",err_password2_msg:"",err_email_msg:"",registerErr:!1,registerTitle:"该邮箱已注册"}},methods:{routeChange:function(){this.login=void 0===this.$route.query.login?1:parseInt(this.$route.query.login),this.url_state=void 0===this.$route.query.url_state?0:this.$route.query.url_state,0===this.url_state?(this.err2005=!1,this.step=1):"urlInvalid"===this.url_state?(this.err2005=!0,this.step=2):"urlErr"===this.url_state&&(this.err2005=!0,this.step=1)},newRegister:function(){var e=this,r={reg_username:this.reg_username,reg_password:this.reg_password,reg_email:this.reg_email};return""===e.reg_username?(e.reg_usernameErr=!0,void(e.err_username_msg="用户名不能为空")):/^(\w){3,12}$/.test(e.reg_username)?(e.reg_usernameErr=!1,""===e.reg_password?(e.reg_passwordErr=!0,void(e.err_password_msg="密码不能为空")):e.reg_password&&/^(\w){6,12}$/.test(e.reg_password)?(e.reg_passwordErr=!1,e.reg_password!==e.reg_password2?(e.reg_password2Err=!0,void(e.err_password2_msg="两次密码不一致")):(e.reg_password2Err=!1,""===e.reg_email?(e.reg_emailErr=!0,void(e.err_email_msg="邮箱不能为空")):/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e.reg_email)?(e.reg_emailErr=!1,void Object(t.w)(r).then(function(r){if(200===r.code){e.$message({message:"注册成功",type:"success",duration:1e3});setTimeout(function(){e.$router.push({path:"/login"})},1e3)}else 201===r.code?(e.registerErr=!0,e.registerTitle="用户已存在,请重新注册"):(e.registerErr=!0,e.registerTitle="注册失败")})):(e.reg_emailErr=!0,void(e.err_email_msg="邮箱格式不正确")))):(e.reg_passwordErr=!0,void(e.err_password_msg="密码格式不正确"))):(e.reg_usernameErr=!0,void(e.err_username_msg="用户名格式不正确"))},registerEnterFun:function(e){13===(window.event?e.keyCode:e.which)&&this.newRegister()}}},i={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"background"},[s("div",{staticClass:"registerBox"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.registerErr,expression:"registerErr"}],attrs:{title:e.registerTitle,type:"error","show-icon":"",closable:!0}}),e._v(" "),s("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.reg_username,callback:function(r){e.reg_username=r},expression:"reg_username"}}),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.reg_usernameErr,expression:"reg_usernameErr"}],attrs:{title:e.err_username_msg,type:"warning","show-icon":"",closable:!0}}),e._v(" "),s("el-input",{attrs:{type:"password",placeholder:"密码:6-12位英文、数字、下划线"},model:{value:e.reg_password,callback:function(r){e.reg_password=r},expression:"reg_password"}}),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.reg_passwordErr,expression:"reg_passwordErr"}],attrs:{title:e.err_password_msg,type:"error","show-icon":"",closable:!0}}),e._v(" "),s("el-input",{attrs:{type:"password",placeholder:"确认密码"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.registerEnterFun(r)}},model:{value:e.reg_password2,callback:function(r){e.reg_password2=r},expression:"reg_password2"}}),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.reg_password2Err,expression:"reg_password2Err"}],attrs:{title:e.err_password2_msg,type:"error","show-icon":"",closable:!0}}),e._v(" "),s("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.reg_email,callback:function(r){e.reg_email=r},expression:"reg_email"}}),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.reg_emailErr,expression:"reg_emailErr"}],attrs:{title:e.err_email_msg,type:"error","show-icon":"",closable:!0}}),e._v(" "),s("div",{staticClass:"lr-btn tcolors-bg",attrs:{plain:!0},on:{click:e.newRegister}},[e._v("\n          注册\n        ")])],1)])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("h1",{staticClass:"registerTitle"},[r("a",{attrs:{href:"/"}},[this._v("注册")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"lr-title"},[r("p",[this._v("\n            已有账号"),r("a",{staticClass:"tcolors",attrs:{href:"/login"}},[this._v("登录")])])])}]};var o=s("VU/8")(a,i,!1,function(e){s("GetY")},null,null);r.default=o.exports},GetY:function(e,r){}});